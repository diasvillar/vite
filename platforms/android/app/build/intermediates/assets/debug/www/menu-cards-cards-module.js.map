{"version":3,"sources":["webpack:///./src/app/menu/cards/cards.module.ts","webpack:///./src/app/menu/cards/cards.page.html","webpack:///./src/app/menu/cards/cards.page.scss","webpack:///./src/app/menu/cards/cards.page.ts"],"names":[],"mappings":"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","file":"menu-cards-cards-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CardsPage } from './cards.page';\nimport { EditCardPageModule } from './edit-card/edit-card.module';\nimport { EditCardPage } from './edit-card/edit-card.page';\n\nconst routes: Routes = [\n\t{\n\t\tpath: '',\n\t\tcomponent: CardsPage\n\t}\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tIonicModule,\n\t\tRouterModule.forChild(routes),\n\t\tEditCardPageModule\n\t],\n\tdeclarations: [CardsPage],\n\tentryComponents: [EditCardPage]\n})\nexport class CardsPageModule {}\n","module.exports = \"<ion-header no-border>\\r\\n\\t<ion-toolbar transparent>\\r\\n        <ion-title>Meus cartões</ion-title>\\r\\n\\t\\t<ion-buttons slot=\\\"start\\\">\\r\\n\\t\\t\\t<ion-back-button></ion-back-button>\\r\\n\\t\\t</ion-buttons>\\r\\n\\t</ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding >\\r\\n    <ion-list class=\\\"card-list\\\">\\r\\n        <ion-item no-padding *ngFor=\\\"let cPagamento of cPagamentos; let i=index;\\\">\\r\\n            <ion-label>\\r\\n                <span class=\\\"value\\\">Número do Cartão</span>\\r\\n                <span class=\\\"desc\\\">****.****.****.{{cPagamento.card_number.substring(cPagamento.card_number.length-4,cPagamento.card_number.length)}}</span>\\r\\n                <span class=\\\"value\\\">Tipo do Cartão</span>\\r\\n                <span *ngIf=\\\"cPagamento.payment_method_code == 'credit_card'\\\" class=\\\"desc\\\">Cartão de Crédito</span>\\r\\n                <span class=\\\"value\\\">Vencimento</span>\\r\\n                <span class=\\\"desc\\\">{{cPagamento.card_expiration}}</span>\\r\\n            </ion-label>\\r\\n            <ion-icon slot=\\\"start\\\" src=\\\"assets/images/{{cPagamento.payment_company_code}}.svg\\\"></ion-icon>\\r\\n            <!--<ion-button (click)=\\\"edit()\\\" fill=\\\"clear\\\"><ion-icon slot=\\\"end\\\" src=\\\"assets/feather/md-f-edit-2.svg\\\" color=\\\"dark\\\"></ion-icon></ion-button>-->\\r\\n            <ion-button (click)=\\\"remove(cPagamento.id, i)\\\" fill=\\\"clear\\\"><ion-icon slot=\\\"end\\\" src=\\\"assets/feather/md-f-trash-2.svg\\\" color=\\\"danger\\\"></ion-icon></ion-button>\\r\\n        </ion-item>\\r\\n    </ion-list>\\r\\n    <ion-button color=\\\"medium\\\" fill=\\\"clear\\\" (click)=\\\"edit()\\\">Cadastrar novo cartão</ion-button>\\r\\n</ion-content>\"","module.exports = \".card-list ion-item {\\n  color: var(--ion-color-dark); }\\n  .card-list ion-item .value {\\n    font-size: 16px;\\n    display: block; }\\n  .card-list ion-item .desc {\\n    font-size: 13px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVudS9jYXJkcy9DOlxcRGVzZW52b2x2aW1lbnRvXFxpb25pY1xcRnJvbnRFbmQtVml0ZVYyL3NyY1xcYXBwXFxtZW51XFxjYXJkc1xcY2FyZHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUUsNkJBQTRCLEVBUTVCO0VBVkY7SUFJRyxnQkFBZTtJQUNmLGVBQWMsRUFDZDtFQU5IO0lBUUcsZ0JBQWUsRUFDZiIsImZpbGUiOiJzcmMvYXBwL21lbnUvY2FyZHMvY2FyZHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcmQtbGlzdCB7XHJcblx0aW9uLWl0ZW0ge1xyXG5cdFx0Y29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcclxuXHRcdC52YWx1ZSB7XHJcblx0XHRcdGZvbnQtc2l6ZTogMTZweDtcclxuXHRcdFx0ZGlzcGxheTogYmxvY2s7XHJcblx0XHR9XHJcblx0XHQuZGVzYyB7XHJcblx0XHRcdGZvbnQtc2l6ZTogMTNweDtcclxuXHRcdH1cclxuXHR9XHJcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NavController, ModalController } from '@ionic/angular';\nimport { Http } from '@angular/http';\nimport { map } from 'rxjs/operators';\nimport { Router } from \"@angular/router\";\n\nimport { EditCardPage } from './edit-card/edit-card.page';\nimport { Cpagamento } from '../../../domain/cpagamento/cpagamento';\n\n\n@Component({\n\tselector: 'app-cards',\n\ttemplateUrl: './cards.page.html',\n\tstyleUrls: ['./cards.page.scss'],\n})\nexport class CardsPage implements OnInit {\n\n\tpublic cPagamentos: Cpagamento[];\n\t\n\tconstructor(\n\t\tprivate modalCtrl: ModalController,\n\t\tpublic navCtrl: NavController,\n\t\tprivate _http: Http,\n\t\tprivate router: Router\n\t) { }\n\t\n\tasync ngOnInit() {\n\t\tif(sessionStorage.getItem('flagLogado')!= \"sim\"){\n\t\t\tthis.goToLogin();\n\t\t  }\n\t  \n\t\t  var link = 'https://viniciusvillar.000webhostapp.com/vite/page/get_card/'+sessionStorage.getItem('usuarioId');\n\t  \n\t\t  await this._http\n\t\t\t\t\t.get(link)\n\t\t\t\t\t.pipe(map(res => res.json()))\n\t\t\t\t\t.toPromise()\n\t\t\t\t\t.then( cPagamentos => {\n\t  \n\t\t\t\t\t\tthis.cPagamentos = cPagamentos;\n\t\t\t\t\t\n\t\t\t\t\t} )\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t});\n\t  \n\t }\n\n\t goToLogin(){\n\t\tthis.navCtrl.navigateRoot('/login');\n\t  }\n\n\t  goToCards(){\n\t\tthis.router.navigate(['/cards']);\n\t  }\n\t\n\tasync edit() {\n\t\tconst modal = await this.modalCtrl.create({\n\t\t\tcomponent: EditCardPage,\n\t\t\tcomponentProps: {card: {}},\n\t\t\tshowBackdrop: true,\n\t\t\tbackdropDismiss: true,\n\t\t\tcssClass: 'custom-modal'\n\t\t});\n\n\t\tmodal.onDidDismiss().then((d:any) => {\n\t\t\tif(d.data == 200){\n\t\t\t\tthis.ngOnInit();\n\t\t\t}\n\t\t});\n\t\n\t\treturn await modal.present();\n\t\t\n\t}\n\n\tasync remove(id, index) {\n\n\t\tawait this._http\n\t\t\t\t.get('https://viniciusvillar.000webhostapp.com/vite/page/delete_card/'+ id)\n\t\t\t\t.pipe(map(res => res.json()))\n\t\t\t\t.toPromise()\n\t\t\t\t.then( response => {\n\n\t\t\t\t\tconsole.log(\"Cartão excluído\\n\");\n\t\t\t\t\n\t\t\t\t} )\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t});\n\n\t\t\t\tconsole.log(\"index: \" +index+\"\\n\");\n\n\t\tthis.cPagamentos.splice(index, 1);\t\n\t}\n}"],"sourceRoot":""}